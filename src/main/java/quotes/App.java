/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package quotes;

import com.google.gson.Gson;

import java.io.*;
import java.net.HttpURLConnection;
import java.net.URL;

public class App {

  public static void main(String[] args) throws FileNotFoundException {
//      getQuoteFromAPI();
  }


  public static void write(QuoteApi quote) {
    BufferedWriter writer = null;
    try {
      Gson gson = new Gson();
      String makeJson = gson.toJson(quote);
      writer = new BufferedWriter(new FileWriter("src/main/resources/apiquotes.json", true));
      writer.newLine();
      writer.append(makeJson);
      writer.close();
    } catch (IOException e) {
      e.printStackTrace();
    }
  }

  public static Quote[] getQuotesFromFile() throws FileNotFoundException {
    Gson gson = new Gson();
    Quote[] quotes = gson.fromJson(new FileReader("src/main/resources/recentquotes.json"), Quote[].class);
    return quotes;
  }

  public static Quote getRandomQuote(Quote[] quotes) {
    int random = (int)(Math.random() * quotes.length);
    return quotes[random];
  }
}
